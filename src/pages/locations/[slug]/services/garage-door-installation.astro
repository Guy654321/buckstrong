---
import { getLocations } from '../../../../lib/locations';
import { buildLocalizedServicePath } from '../../../../lib/location-routing';

export async function getStaticPaths() {
  const locations = await getLocations();
  return locations.map((location) => ({
    params: { slug: location.slug },
    props: { location }
  }));
}

export const prerender = true;

const { slug } = Astro.params;
const redirectPath = buildLocalizedServicePath(slug, 'garage-door-installation');

return Astro.redirect(redirectPath, 301);
---
