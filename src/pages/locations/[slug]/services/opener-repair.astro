---
import { getLocations } from '../../../../lib/locations';
import { buildLocalizedServicePath } from '../../../../lib/location-routing';

export async function getStaticPaths() {
  const locations = await getLocations();
  return locations.map((location) => ({
    params: { slug: location.slug },
    props: { location }
  }));
}

const { slug } = Astro.params;
const redirectPath = buildLocalizedServicePath(slug, 'opener-repair');

return Astro.redirect(redirectPath, 301);
---
